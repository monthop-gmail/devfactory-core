Phase 1: Core State Machine
